## 一、Spring 基础

### 1. 什么是 Spring 框架？

Spring 是一款开源的轻量级 Java 开发框架，旨在提高开发人员的开发效率以及系统的可维护性。

我们一般说 Spring 框架指的都是 Spring Framework，它是很多模块的集合，使用这些模块可以很方便地协助我们进行开发，比如说 Spring 支持 IoC（Inversion of Control:控制反转） 和 AOP(Aspect-Oriented Programming:面向切面编程)、可以很方便地对数据库进行访问、可以很方便地集成第三方组件（电子邮件，任务，调度，缓存等等）、对单元测试支持比较好、支持 RESTful Java 应用程序的开发

### 2. 介绍一下 Spring 的事务隔离级别？

### 3. (中高频) 在 Spring 中哪些地方用到了什么设计模式？

1. **单例模式**
   Spring中的Bean默认是**单例**的。也就是说，在Spring容器中，默认情况下一个Bean类只会创建一个实例，并在整个应用程序中共享。
2. **工厂模式
   **BeanFactory和ApplicationContext是Spring的核心接口，它们使用**工厂模式**来创建和管理Bean的实例。
3. **代理模式
   **Spring AOP（面向切面编程）大量使用了代理模式。Spring通过动态代理或CGLIB来创建AOP代理，以实现方法拦截。

### 4. Sping 中动态代理怎么用的？

Spring 中
Spring 会根据被代理对象的情况自动选择合适的动态代理方式。如果被代理对象实现了接口，优先使用 JDK 动态代理；如果没有实现接口，则使用 CGLIB 动态代理。



### 5. (中高频) Spring中的循环依赖怎么解决？



------

## 二、Spring IoC

### 1. (高频) 说说什么是IoC？IoC解决了什么问题？

- 

IoC 的含义是控制反转，

**控制**：1. 控制对象的创建、配置； 2. 控制依赖注入

**反转**：原先这些控制权都是交给应用程序代码的，现在对象的创建和依赖关系定义被反转给 Spring 容器。



IoC 解决的问题

1. 降低对象之间的**耦合度**；
2. 资源变的**容易管理**，用Spring容器提供对象可以实现一个单例。

### 2. 什么是Spring Bean？

Bean 是被 IoC 容器所管理的对象，Bean 是通过配置元数据来定义的，可以通过 XML 文件，注解，Java 配置类等方式。

### 3. @Autowired 和 @Resource 的区别是什么？

@Autowired 属于 Spring 内置的注解，默认的注入方式是优先根据**接口类型**去匹配并注入 Bean（接口的实现类）。**这会存在一个问题：**当一个接口存在多个实现类的话，这种情况下，注入方式会变为 byName（根据首字母小写的类名进行匹配）。通常还是建议通过`@Qualifier` 注解来显式指定名称而不是依赖变量的名称。



@Resource 属于 JDK 提供的注解，默认注入方式为 **byName，**名称相同但类型不同可能会抛出异常。如果无法通过名称匹配到对应的 Bean 的话，通过指定type属性将注入方式变为 byType。

### 4. 将一个类声明为Bean的注解有哪些?

1. @Component：通用的注解，可标注任意类为 Spring 组件。如果一个 Bean 不知道属于哪个层，可以使用@Component 注解标注。
2. @Repository : 对应持久层即 Dao 层，主要用于数据库相关操作。
3. @Service : 对应服务层，主要涉及一些复杂的逻辑，需要用到 Dao 层。
4. @Controller : 对应 Spring MVC 控制层，主要用于接受用户请求并调用 Service 层返回数据给前端页面。

### 5. Springbean如何保持线程安全? 使用局部变量可以保证安全，为什么不用实例变量？



### 6. (中高频) Bean的作用域？

### 7. (中高频) Bean 的生命周期？

- 

- 整体上可以简单分为四步：实例化 -> 属性赋值 -> 初始化 -> 销毁。
- 初始化这一步涉及到的步骤比较多，包含 Aware 接口的依赖注入、BeanPostProcessor 在初始化前后的处理以及 InitializingBean 和 init-method 的初始化操作。
- 销毁这一步会注册相关销毁回调接口，最后通过DisposableBean 和 destory-method 进行销毁。



### 8. Bean 如何保持线程安全? 使用局部变量可以保证安全，为什么不用实例变量？



### 9. 将一个类声明为 Bean 的注解有哪些?

@Component：通用的注解，可标注任意类为 Spring 组件。如果一个 Bean 不知道属于哪个层，可以使用@Component 注解标注。

@Repository : 对应持久层即 Dao 层，主要用于数据库相关操作。

@Service : 对应服务层，主要涉及一些复杂的逻辑，需

### 10. Bean的自动装配是如何实现的？

分为组件扫描+依赖注入

使用`@ComponentScan`

### 11. Spring循环依赖？如何解决的？

**Spring 循环依赖**指的是在使用 Spring 框架进行依赖注入时，两个或多个类之间相互依赖，导致循环引用。例如，Bean A 依赖 Bean B，而 Bean B 又依赖 Bean A，这就形成了循环依赖。





------

## 三、Spring AOP

### 1. (中高频) 谈谈对 AOP 的理解？

AOP叫面向切面编程，通过分离**横切关注点**（横切关注点指的是模块中重复出现的功能，比如日志记录、安全检查、事务管理），AOP将这些功能封装起来也就是将横切关注点提取到切面中，这样每个模块只需要专注于自身业务逻辑。从而达到减少重复代码，降低耦合度的效果，这利于提升系统的可维护性。

**切面**：横切关注点的实现

**通知：**切面的具体动作，要执行的逻辑**，**前置通知、后置通知、返回通知、异常通知、环绕通知

**连接点**：连接点是程序执行中可以被增强的具体位置，AOP 框架可以在这些点上插入通知。

**横切关注点**：通过某些规则来选择和过滤这些连接点的机制。

**目标对象**：目标对象是被通知的业务逻辑对象，即被 AOP 代理的对象。AOP 并不会改变目标对象的原始代码，而是在它的基础上增强功能。

**代理**：AOP 通过动态代理（如 JDK 动态代理或 CGLIB 代理）创建目标对象的代理对象，在代理对象中织入切面逻辑。

**织入**：织入是指将切面应用到目标对象上，并创建代理对象的过程。织入可以在编译时、类加载时、运行时进行。

使用案例：

![img](https://cdn.nlark.com/yuque/0/2024/png/42782944/1725562818615-68ef6177-43e0-4f2b-8ec4-be4c8ddbfe4f.png)

### 2. (中高频) **Spring 的 AOP 如何实现的？**

1. **扫描注解**：Spring容器启动时会扫描所有带有@Aspect注解的类，并**解析**其中的通知方法（@Before, @After, @AfterReturning, @AfterThrowing, @Around）。
2. **创建代理**：对于匹配**切点表达式**的方法，Spring AOP使用JDK动态代理或CGLIB代理为目标对象创建相应的代理对象。
3. **拦截方法调用**：当调用代理对象的方法时，代理对象会按照切面配置的通知类型和顺序，执行相应的通知方法。

### 3. AoP 两种动态代理的区别？

**JDK 动态代理**适用于实现了接口的类，Spring AOP 创建一个实现了目标接口的代理实例，这个代理对象拦截方法调用并执行相应的切面逻辑。

**CGLIB 代理**适用于没有实现接口的类，Spring AOP 会创建一个目标类的子类，并覆盖目标类的方法，这个子类代理对象拦截方法调用并执行切面逻辑。

### 4. 面向对象和面向切面的区别？为什么要面向切面？

**OOP**关注类和对象，通过封装、继承、多态和抽象来提高代码的可重用性和可维护性，但处理**横切关注点**时无法解决代码重复、耦合度高等问题。

**AOP** 通过分离横切关注点，进一步提高代码的模块化程度，使系统级服务与业务逻辑分离，提高了代码的可读性和可维护性。



### 5. 事务失效的场景？

1. 在同类方法中调用事务方法
   Spring通过代理处理事务，通过代理对象调用时事务才会生效，自调用就会失效。
   解决方法：

1. 将事务方法提取到其他类
2. 使用 AopContext**.**currentProxy() 获取当前类的代理对象

------

## SpringBoot

### 1. 什么是 SpringBoot？



### 2. SpringBoot 和 Spring 区别？

SpringBoot 是 Spring 的增强版本，将 Spring 应用程序的开发、配置过程进行简化。并且 SpringBoot 自带嵌入的服务器如 Tomcat，而 Spring 需要手动配置和部署外部服务器。SpringBoot 还提供了 SpringBoot Starter，也就是预定义的依赖集合，来简化依赖的引入过程。

### 3. (中高频) SpringBoot 中最核心的三个注解是什么？



### 4. Springboot 自动配置原理？



### 5. (中高频) SpringBoot Starter 作用？

Spring Boot Starter 是 Spring Boot 提供的一种模块化机制，用于简化和快速构建 Spring 应用程序。每个 Starter 都是一个 Maven 或 Gradle 依赖项，包含了一组相关的依赖库和配置，帮助开发者快速集成各种功能。

### 6. SpringBoot Starter的原理？如何自定义一个Starter？



### 7. **过滤器和拦截器的区别？**



### 8. @Component与@Bean的区别

@Component 一般用在类上，通过组件扫描自动检测和注册 Bean；

@Bean 一般用在方法上，显式声明和注册 Bean。

------

## 四、SpringMVC

### 1. 什么是SpringMVC？

MVC 是模型(Model)、视图(View)、控制器(Controller)的简写，其核心思想是通过将业务逻辑、数据、显示分离来组织软件项目的代码。



### 2. 讲讲 SpringBoot 和 SpringMVC 的区别？



### 3. (中高频) Spring MVC处理一个请求的过程？️



------

## 五、其他

### 1. 三级缓存分别指什么？ 

三级缓存的目的在于提高缓存的命中率和系统性能

1. 一级缓存（本地缓存）
   可以使用ConcurrentHashMap实现的缓存，因为存在服务器的内存中，访问速度最快
2. 二级缓存（分布式缓存）
   存储在分布式缓存系统中，多个应用实例共享	
3. 三级缓存（持久化存储）
   存储在MySQL数据库中（一般是可以持久化的容器里）

### 2. Spring 事务控制？事务失效？

一般在方法或者类上显式地加上 @Transactional 注解，表示该方法需要事务管理。如果该方法抛出未检查异常，事务将会回滚。